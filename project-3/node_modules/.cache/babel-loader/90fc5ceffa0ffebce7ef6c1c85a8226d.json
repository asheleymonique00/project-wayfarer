{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\"\n});\nexport const signUpUser = async signUpData => {\n  const userData = await api.post('/auth/signup', signUpData);\n  console.log(userData);\n  localStorage.setItem('authToken', userData.data.token);\n  api.defaults.headers.common.authorization = `Bearer ${userData.data.token}`;\n  return userData.config.data;\n};\nexport const loginUser = async loginData => {\n  const userData = await api.post('/auth/login', loginData);\n  console.log(userData);\n  localStorage.setItem('authToken', userData.data.token);\n  api.defaults.headers.common.authorization = `Bearer ${userData.data.token}`;\n  return userData.config.data;\n};\nexport const getProfile = async profileRecieved => {\n  const profile = await api.get('/user/profile', profileRecieved);\n  return profile.data;\n};\nexport const putProfile = async values => {\n  const updatedUser = await api.put('/user/profile', values);\n  console.log(updatedUser);\n  return updatedUser.data;\n};\nexport const verifyUser = async () => {\n  const token = localStorage.getItem('authToken');\n\n  if (token) {\n    api.defaults.headers.common.authorization = `Bearer ${token}`;\n    const userData = await api.get('/auth/verify');\n    return userData.config.data;\n  } else {\n    return false;\n  }\n};\nexport const getAllCities = async () => {\n  const cities = await api.get('/city/all');\n  console.log(cities.data);\n  return cities.data;\n};\nexport const indexPosts = async () => {\n  const allPosts = await api.get('/post/all');\n  console.log(allPosts);\n  return allPosts.data;\n};","map":{"version":3,"sources":["C:/Users/AMH3146/CFG/week9/project-3/main-project-3/project-wayfarer/project-3/src/Service/api_helper.js"],"names":["axios","api","create","baseURL","signUpUser","signUpData","userData","post","console","log","localStorage","setItem","data","token","defaults","headers","common","authorization","config","loginUser","loginData","getProfile","profileRecieved","profile","get","putProfile","values","updatedUser","put","verifyUser","getItem","getAllCities","cities","indexPosts","allPosts"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAb,CAAZ;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAOC,UAAP,IAAsB;AAC5C,QAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAJ,CAAS,cAAT,EAAyBF,UAAzB,CAAvB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCL,QAAQ,CAACM,IAAT,CAAcC,KAAhD;AACAZ,EAAAA,GAAG,CAACa,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,GAA6C,UAASX,QAAQ,CAACM,IAAT,CAAcC,KAAM,EAA1E;AACA,SAAOP,QAAQ,CAACY,MAAT,CAAgBN,IAAvB;AACD,CANI;AAQL,OAAO,MAAMO,SAAS,GAAG,MAAOC,SAAP,IAAqB;AAC5C,QAAMd,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAJ,CAAS,aAAT,EAAwBa,SAAxB,CAAvB;AACAZ,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCL,QAAQ,CAACM,IAAT,CAAcC,KAAhD;AACAZ,EAAAA,GAAG,CAACa,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,GAA6C,UAASX,QAAQ,CAACM,IAAT,CAAcC,KAAM,EAA1E;AACA,SAAOP,QAAQ,CAACY,MAAT,CAAgBN,IAAvB;AACD,CANM;AAQL,OAAO,MAAMS,UAAU,GAAG,MAAOC,eAAP,IAA2B;AACnD,QAAMC,OAAO,GAAG,MAAMtB,GAAG,CAACuB,GAAJ,CAAQ,eAAR,EAAyBF,eAAzB,CAAtB;AACA,SAAOC,OAAO,CAACX,IAAf;AACH,CAHQ;AAKT,OAAO,MAAMa,UAAU,GAAG,MAAOC,MAAP,IAAkB;AAC1C,QAAMC,WAAW,GAAG,MAAM1B,GAAG,CAAC2B,GAAJ,CAAQ,eAAR,EAAyBF,MAAzB,CAA1B;AACAlB,EAAAA,OAAO,CAACC,GAAR,CAAYkB,WAAZ;AACA,SAAOA,WAAW,CAACf,IAAnB;AACH,CAJQ;AAMT,OAAO,MAAMiB,UAAU,GAAG,YAAY;AAClC,QAAMhB,KAAK,GAAGH,YAAY,CAACoB,OAAb,CAAqB,WAArB,CAAd;;AACA,MAAIjB,KAAJ,EAAW;AACTZ,IAAAA,GAAG,CAACa,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,GAA6C,UAASJ,KAAM,EAA5D;AACA,UAAMP,QAAQ,GAAG,MAAML,GAAG,CAACuB,GAAJ,CAAQ,cAAR,CAAvB;AACA,WAAOlB,QAAQ,CAACY,MAAT,CAAgBN,IAAvB;AACD,GAJD,MAIO;AACL,WAAO,KAAP;AACD;AACF,CATI;AAWL,OAAO,MAAMmB,YAAY,GAAG,YAAY;AACtC,QAAMC,MAAM,GAAG,MAAM/B,GAAG,CAACuB,GAAJ,CAAQ,WAAR,CAArB;AACAhB,EAAAA,OAAO,CAACC,GAAR,CAAYuB,MAAM,CAACpB,IAAnB;AACA,SAAOoB,MAAM,CAACpB,IAAd;AAED,CALM;AAOP,OAAO,MAAMqB,UAAU,GAAG,YAAY;AACpC,QAAMC,QAAQ,GAAG,MAAMjC,GAAG,CAACuB,GAAJ,CAAQ,WAAR,CAAvB;AACAhB,EAAAA,OAAO,CAACC,GAAR,CAAYyB,QAAZ;AACA,SAAOA,QAAQ,CAACtB,IAAhB;AACD,CAJM","sourcesContent":["import axios from 'axios'\r\nconst api = axios.create({ baseURL: \"http://localhost:3001\" })\r\n\r\nexport const signUpUser = async (signUpData) => {\r\n    const userData = await api.post('/auth/signup', signUpData);\r\n    console.log(userData);\r\n    localStorage.setItem('authToken', userData.data.token);\r\n    api.defaults.headers.common.authorization = `Bearer ${userData.data.token}`;\r\n    return userData.config.data;\r\n  }\r\n\r\n  export const loginUser = async (loginData) => {\r\n    const userData = await api.post('/auth/login', loginData);\r\n    console.log(userData);\r\n    localStorage.setItem('authToken', userData.data.token);\r\n    api.defaults.headers.common.authorization = `Bearer ${userData.data.token}`;\r\n    return userData.config.data;\r\n  }\r\n\r\n    export const getProfile = async (profileRecieved) => {\r\n      const profile = await api.get('/user/profile', profileRecieved)  \r\n      return profile.data;   \r\n  }\r\n\r\n  export const putProfile = async (values) => {\r\n    const updatedUser = await api.put('/user/profile', values);\r\n    console.log(updatedUser)\r\n    return updatedUser.data\r\n}\r\n \r\nexport const verifyUser = async () => {    \r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n      api.defaults.headers.common.authorization = `Bearer ${token}`;\r\n      const userData = await api.get('/auth/verify');\r\n      return userData.config.data;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  export const getAllCities = async () => {\r\n    const cities = await api.get('/city/all');\r\n    console.log(cities.data);\r\n    return cities.data;\r\n\r\n  }\r\n\r\n  export const indexPosts = async () => {\r\n    const allPosts = await api.get('/post/all');\r\n    console.log(allPosts);\r\n    return allPosts.data;\r\n  }\r\n\r\n\r\n  "]},"metadata":{},"sourceType":"module"}